---
title: "Census Pull"
author: "Ethan Tenison"
date: "`r format(Sys.Date(), '%B %d, %Y') `"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())

library(tidyverse)
library(tidycensus)
```


# ACS Variables 

* Wealth
  + QRICH = Percent Households Earning over $200,000 annually
  + MDHSEVAL = Median Housing Value
  + PERCAP = Per Capita Income
* Language & Education 
  + QESL = Percent Speaking English as a Second Language with Limited Proficiency
  + QSPANISH =  Percent Hispanic 
  + QED12LES = Percent Less than high school education for population over 25 years and older
* Elderly
  + QSSBEN = Percent Households Receiving Social Security Benefits
  + QAGEDEP = Percent Population under 5 years or 65 and over
  + MEDAGE = Median age 
* Housing Status 
  + PPUNIT = People per Unit (Average household size)
  + QFAM = Percent Children Living in Married Couple Families
* Social Status
  + QCVLUN = Percent Unemployment for Civilian in Labor Force 16 Years and Over
  + QBLACK = Percent Black or African American Alone
  + QNOAUTO = Percent Housing Units with No Car
  + QPOVTY = Percent Poverty
* Gender
  + QFEMALE = Percent Female 
  + QFEMLBR = Percent Female Participation in Labor Force
  
  
# Variable Search

```{r v_search}

v19 <- load_variables(2019, "acs5", cache = TRUE)

```



```{r var}

#acs variables 
vars <- c(	
"QRICH" = "B19001_017", #need to divide households 
"households" = "B09019_002",
"MDHSEVAL" = 	"B25077_001",
"PERCAP" = "B19301_001",
"QESL-Spanish" = "B06007_005", #need to be added together and divided by pop 
"QESL-Other" = "B06007_008",
"QSPANISH" = "B03001_003", # need to divide by pop
"POP" = "B03001_001",
"QED12LES" = "B16010_002", # divide by pop
"QSSBEN" = "B19055_002", #divide by pop 
"QAGEDEP-under5" = "B06001_002",
"QAGEDEP-over65" = "B18135_024",
"MEDAGE"= "B07002_001",
"PPUNIT" = "B25010_001",
"QFAM" = "B11003_003",
"QCVLUN" = "B23025_005",
"QBLACK" = "B18101B_001", #divide by pop,
"QNOAUTO" = "B08203_002", #divide by households 
"QPOVTY" = "B17020_002"





)

counties <- c("Travis", "Bastrop","Blanco", "Burnet", "Caldwell",
              "Fayette", "Hays", "Lee", "Llano", "Williamson")

#enter your key census_api_key("Your key here")
acs <-get_acs(state="TX", county = counties, geography="tract",year = 2019,
              variables=vars, geometry= F) 

```
